<div
  class="min-h-screen bg-slate-50 dark:bg-slate-950 text-slate-900 dark:text-slate-100 transition-colors duration-300"
>
  <nav
    class="sticky top-0 z-50 backdrop-blur-md bg-white/70 dark:bg-slate-900/70 border-b border-slate-200 dark:border-slate-800"
  >
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
      <div class="flex justify-between h-16 items-center">
        <div class="flex items-center gap-2">
          <a
            [routerLink]="currentUser() ? '/user/' + currentUser().id : '/'"
            class="flex items-center gap-2 hover:opacity-80 transition-opacity"
          >
            <div
              class="w-8 h-8 rounded-lg bg-indigo-600 flex items-center justify-center shadow-lg shadow-indigo-500/30"
            >
              <span class="text-white font-bold text-xl">C</span>
            </div>
            <span
              class="text-xl font-bold tracking-tight bg-clip-text text-transparent bg-gradient-to-r from-indigo-600 to-violet-600 dark:from-indigo-400 dark:to-violet-400"
            >
              CursedCrown
            </span>
          </a>
        </div>

        <div class="flex items-center gap-4">
          @if (currentUser()) {
            <span class="text-sm font-medium text-slate-700 dark:text-slate-300">
              {{ userProfile()?.username || 'Loading...' }}
            </span>
            <button
              (click)="signOut()"
              class="text-sm font-medium text-red-600 hover:text-red-700 dark:text-red-400 dark:hover:text-red-300 transition-colors"
            >
              Sign Out
            </button>
          } @else {
            <a
              routerLink="/auth/login"
              class="text-sm font-medium hover:text-indigo-600 dark:hover:text-indigo-400 transition-colors"
              >Login</a
            >
            <a
              routerLink="/auth/signup"
              class="px-4 py-2 text-sm font-medium text-white bg-indigo-600 hover:bg-indigo-700 rounded-full shadow-lg shadow-indigo-500/20 transition-all hover:scale-105 active:scale-95"
              >Sign Up</a
            >
          }

          <button
            (click)="toggleTheme()"
            class="p-2 rounded-full hover:bg-slate-200 dark:hover:bg-slate-800 transition-colors"
            aria-label="Toggle theme"
          >
            @if (themeService.currentTheme() === 'light') {
              <svg
                xmlns="http://www.w3.org/2000/svg"
                fill="none"
                viewBox="0 0 24 24"
                stroke-width="1.5"
                stroke="currentColor"
                class="w-5 h-5 text-slate-700"
              >
                <path
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  d="M21.752 15.002A9.718 9.718 0 0118 15.75c-5.385 0-9.75-4.365-9.75-9.75 0-1.33.266-2.597.748-3.752A9.753 9.753 0 003 11.25C3 16.635 7.365 21 12.75 21a9.753 9.753 0 009.002-5.998z"
                />
              </svg>
            } @else {
              <svg
                xmlns="http://www.w3.org/2000/svg"
                fill="none"
                viewBox="0 0 24 24"
                stroke-width="1.5"
                stroke="currentColor"
                class="w-5 h-5 text-amber-400"
              >
                <path
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  d="M12 3v2.25m0 13.5V21m8.966-8.966h-2.25M6.166 12.034h-2.25m15.394-7.828l-1.591 1.591M6.166 18.034l-1.591 1.591m12.727 0l-1.591-1.591M6.166 6.166l-1.591-1.591M12 8.25a3.75 3.75 0 100 7.5 3.75 3.75 0 000-7.5z"
                />
              </svg>
            }
          </button>
        </div>
      </div>
    </div>
  </nav>

  <main class="max-w-7xl mx-auto py-12 px-4 sm:px-6 lg:px-8">
    <router-outlet />
  </main>
</div>
